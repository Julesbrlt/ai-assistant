<h1 class="mb-4 mt-5 text-center fw-bold"><%= @chat.company.name %></h1>
<div class="container my-5">
  <div class="card shadow-sm border-0 rounded-4">
    <div class="card-body" style="max-height: 70vh; overflow-y: auto;">
      <% @chat.messages.each do |message| %>
        <% if message.role == "user" %>
          <div class="d-flex justify-content-end mb-3">
            <div class="bg-primary text-white rounded-4 p-3 shadow-sm" style="max-width: 70%;">
              <div class="fw-bold small mb-1">You</div>
              <div><%= message.content %></div>
            </div>
          </div>
        <% else %>
          <div class="d-flex justify-content-start mb-3">
            <div class="bg-light rounded-4 p-3 border shadow-sm" style="max-width: 70%;">
              <div class="fw-bold small text-muted mb-1">AI Assistant</div>
              <div><%= message.content %></div>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
  <div id="new_message" class='mt-3'>
    <%= simple_form_for [@chat, @message] do |f| %>
      <%= f.input :content, placeholder: "Pose ta question!", required: true, label: false %>
      <%= f.button :submit, 'Ask ByB', class: 'btn btn-primary' %>
    <% end %>
  </div>
</div>
